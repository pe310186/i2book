webpackJsonp([1],{"3GMH":function(t,e){},"7EN8":function(t,e){},"8xWA":function(t,e){},DTRz:function(t,e){},"E/Wt":function(t,e,r){"use strict";var n={name:"BackToTop",props:{text:{type:String,default:"Voltar ao topo"},visibleoffset:{type:[String,Number],default:600},visibleoffsetbottom:{type:[String,Number],default:0},right:{type:String,default:"30px"},bottom:{type:String,default:"40px"},scrollFn:{type:Function,default:function(t){}}},data:function(){return{visible:!1}},mounted:function(){window.smoothscroll=function(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(window.requestAnimationFrame(window.smoothscroll),window.scrollTo(0,Math.floor(t-t/5)))},window.addEventListener("scroll",this.catchScroll)},destroyed:function(){window.removeEventListener("scroll",this.catchScroll)},methods:{catchScroll:function(){var t=window.pageYOffset>parseInt(this.visibleoffset),e=window.innerHeight+window.pageYOffset>=document.body.offsetHeight-parseInt(this.visibleoffsetbottom);this.visible=parseInt(this.visibleoffsetbottom)>0?t&&!e:t,this.scrollFn(this)},backToTop:function(){window.smoothscroll(),this.$emit("scrolled")}}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"back-to-top-fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"vue-back-to-top",style:"bottom:"+this.bottom+";right:"+this.right+";",on:{click:this.backToTop}},[this._t("default",[e("div",{staticClass:"default"},[e("span",[this._v("\n          "+this._s(this.text)+"\n        ")])])])],2)])},staticRenderFns:[]};var a=r("VU/8")(n,o,!1,function(t){r("JMtA")},null,null);e.a=a.exports},JMtA:function(t,e){},LSr8:function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("fZjL"),o=r.n(n),a=r("7+uW"),s=r("3EgV"),i=r.n(s),c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",[e("router-view")],1)},staticRenderFns:[]};var l=r("VU/8")({},c,!1,function(t){r("xz0C")},null,null).exports,u=r("/ocq"),v=r("mtWM"),d=r.n(v).a.create({baseURL:"http://210.61.46.101:8888",timeout:6e4}),p=function(t){return d.post("/account/register",{account:t.account,password:t.password,name:t.name,email:t.email})},h=function(t,e){return d.post("/account/login",{account:t,password:e})},f=function(t){return d.post("/account/checkAccount",{account:t})},_=function(t){return d.post("/account/checkEmail",{email:t})},g=function(t){return d.get("/account",{headers:{Auth:t}})},m=function(t,e){return d.get("/product/search/"+t+"/"+e)},b=function(t){return d.post("/account/sendCertification",null,{headers:{Auth:t}})},x=function(t,e){return d.post("/account/checkCertification",{code:e},{headers:{Auth:t}})},w=function(t,e,r){return d.put("/account/"+e,r,{headers:{Auth:t}})},y=function(t,e,r){return d.put("/account/password/"+e,r,{headers:{Auth:t}})},k=function(){return d.get("/carousel")},C=function(t){return d.get("/article/"+t)},P=function(){return d.get("/product/type")},S=function(){return d.get("product/all/visible")},T=function(t){return d.get("/product/"+t)},I=function(){return d.get("/product/onsale")},$=function(){return d.get("/product/hot")},E=function(t){return d.post("/account/fblogin",{access_token:t})},M=function(t,e){return d.post("/order/buy",e,{headers:{Auth:t}})},N=function(t){return d.get("/order",{headers:{Auth:t}})},z=function(t,e){return d.delete("/order/"+e,{headers:{Auth:t}})},V=function(t,e){return d.post("/account/like/"+e,null,{headers:{Auth:t}})},O=function(t){return d.get("/account/like",{headers:{Auth:t}})},D=function(t,e){return d.delete("/account/like/"+e,{headers:{Auth:t}})},F={data:function(){return{carouselItems:[],filterType:[{text:"全文",value:0},{text:"書名",value:1},{text:"作者",value:2},{text:"出版社",value:3}],click:!1,search:"",filter:{value:0},onSaleProducts:[],lastestProducts:[],hotProducts:[],hundProducts:[]}},methods:{searching:function(){""!=this.search&&this.$router.push("/search/"+this.filter.value+"/"+this.search)},shuffle:function(t){for(var e=t.length-1;e>0;e--){var r=Math.floor(Math.random()*(e+1)),n=arr[e];arr[e]=arr[r],arr[r]=n}return t}},beforeMount:function(){var t=this;k().then(function(e){t.carouselItems=e.data.pics}).catch(function(t){}),I().then(function(e){for(var r in t.onSaleProducts=e.data.products,t.onSaleProducts)if(0==t.onSaleProducts[r].pics){t.onSaleProducts[r].pic.push({url:"http://210.61.46.101:8888/uploadedFile/null.png"})}}).catch(function(t){}),S().then(function(e){for(var r in t.lastestProducts=e.data.products.reverse(),t.lastestProducts)if(0==t.lastestProducts[r].pics){t.lastestProducts[r].pic.push({url:"http://210.61.46.101:8888/uploadedFile/null.png"})}for(var r in e.data.products)parseInt(e.data.products[r].sell)<100&&t.hundProducts.push(e.data.products[r]);for(var r in t.hundProducts)if(0==t.hundProducts[r].pics){t.hundProducts[r].pic.push({url:"http://210.61.46.101:8888/uploadedFile/null.png"})}t.hundProducts=t.shuffle(t.hundProducts)}).catch(function(t){}),$().then(function(e){for(var r in t.hotProducts=e.data.products,t.hotProducts)if(0==t.hotProducts[r].pics){t.hotProducts[r].pic.push({url:"http://210.61.46.101:8888/uploadedFile/null.png"})}t.hotProducts=t.shuffle(t.hundProducts)}).catch(function(t){})}},R={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("top"),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-text-field",{attrs:{placeholder:"找好書...",solo:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),r("v-flex",{attrs:{xs2:"",md2:"",lg2:""}},[r("v-select",{attrs:{attach:"",items:t.filterType,solo:"","item-text":"text","item-value":"value"},model:{value:t.filter.value,callback:function(e){t.$set(t.filter,"value",e)},expression:"filter.value"}})],1),t._v(" "),r("v-btn",{attrs:{icon:"",color:"green darken-3"},on:{click:function(e){t.searching()}}},[r("v-icon",{attrs:{color:"white"}},[t._v("search")])],1)],1),t._v(" "),r("v-carousel",{attrs:{height:"480px","hide-delimiters":""}},t._l(t.carouselItems,function(t,e){return r("v-carousel-item",{key:e,attrs:{"next-icon":"mdi-dark mdi-arrow-right"}},[r("v-layout",{attrs:{"fill-height":"","justify-center":"","align-center":""}},[r("v-img",{attrs:{src:t.url,contain:""}})],1)],1)}),1),t._v(" "),r("br"),t._v(" "),r("v-card",[r("v-layout",{attrs:{row:""}},[r("v-card-text",[t._v("特價商品:")])],1),t._v(" "),r("v-divider"),t._v(" "),r("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},t._l(5,function(e){return r("v-flex",{key:e,attrs:{xs2:""}},[r("br"),t._v(" "),e-1<t.onSaleProducts.length?r("v-card",{attrs:{height:"220px",href:"#/product/"+t.onSaleProducts[e-1].id,color:"grey lighten-5"}},[r("v-layout",{attrs:{column:""}},[r("center",[r("br"),t._v(" "),r("b",[t._v(t._s(t.onSaleProducts[e-1].title))]),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("v-img",{attrs:{contain:"",height:"100px",width:"90%",src:t.onSaleProducts[e-1].pic[0].url}}),t._v(" "),r("br"),t._v(" "),r("div",[t._v("售價: NT$ \n                                "),r("s",[t._v(t._s(t.onSaleProducts[e-1].price))]),t._v(" "),r("b",[r("font",{attrs:{size:"4",color:"red"}},[t._v(" "+t._s(t.onSaleProducts[e-1].sell))])],1)])],1)],1)],1):t._e(),t._v(" "),r("br")],1)}),1)],1),t._v(" "),r("br"),t._v(" "),r("v-card",[r("v-layout",{attrs:{row:""}},[r("v-card-text",[t._v("最新上架:")])],1),t._v(" "),r("v-divider"),t._v(" "),r("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},t._l(5,function(e){return r("v-flex",{key:e,attrs:{xs2:""}},[r("br"),t._v(" "),e-1<t.lastestProducts.length?r("v-card",{attrs:{height:"220px",href:"#/product/"+t.lastestProducts[e-1].id}},[r("v-layout",{attrs:{column:""}},[r("center",[r("br"),t._v(" "),r("b",[t._v(t._s(t.lastestProducts[e-1].title))]),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("v-img",{attrs:{contain:"",height:"100px",width:"90%",src:t.lastestProducts[e-1].pic[0].url}}),t._v(" "),r("br"),t._v(" "),r("s",[t._v("售價:"+t._s(t.lastestProducts[e-1].price))]),t._v(" "),r("b",[r("font",{attrs:{size:"4",color:"red"}},[t._v(" "+t._s(t.lastestProducts[e-1].sell))])],1)],1)],1)],1):t._e(),t._v(" "),r("br")],1)}),1)],1),t._v(" "),r("br"),t._v(" "),r("v-card",[r("v-card-text",[t._v("熱賣推薦:")]),t._v(" "),r("v-divider"),t._v(" "),r("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},t._l(5,function(e){return r("v-flex",{key:e,attrs:{xs2:""}},[r("br"),t._v(" "),e-1<t.hotProducts.length?r("v-card",{attrs:{height:"220px",href:"#/product/"+t.hotProducts[e-1].id}},[r("v-layout",{attrs:{column:""}},[r("center",[r("br"),t._v(" "),r("b",[t._v(t._s(t.hotProducts[e-1].title))]),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("v-img",{attrs:{contain:"",height:"100px",width:"90%",src:t.hotProducts[e-1].pic[0].url}}),t._v(" "),r("br"),t._v(" "),r("s",[t._v("售價:"+t._s(t.hotProducts[e-1].price))]),t._v(" "),r("b",[r("font",{attrs:{size:"4",color:"red"}},[t._v(" "+t._s(t.hotProducts[e-1].sell))])],1)],1)],1)],1):t._e(),t._v(" "),r("br")],1)}),1)],1),t._v(" "),r("br"),t._v(" "),r("v-card",[r("v-card-text",[t._v("百元有找:")]),t._v(" "),r("v-divider"),t._v(" "),r("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},t._l(5,function(e){return r("v-flex",{key:e,attrs:{xs2:""}},[r("br"),t._v(" "),e-1<t.hundProducts.length?r("v-card",{attrs:{height:"220px",href:"#/product/"+t.hundProducts[e-1].id}},[r("v-layout",{attrs:{column:""}},[r("center",[r("br"),t._v(" "),r("b",[t._v(t._s(t.hundProducts[e-1].title))]),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("v-img",{attrs:{contain:"",height:"100px",width:"90%",src:t.hundProducts[e-1].pic[0].url}}),t._v(" "),r("br"),t._v(" "),r("s",[t._v("售價:"+t._s(t.hundProducts[e-1].price))]),t._v(" "),r("b",[r("font",{attrs:{size:"4",color:"red"}},[t._v(" "+t._s(t.hundProducts[e-1].sell))])],1)],1)],1)],1):t._e(),t._v(" "),r("br")],1)}),1)],1),t._v(" "),r("back-to-top",{attrs:{text:"back to top",visibleoffset:"0"}},[r("v-btn",{attrs:{icon:"",large:"",flat:""}},[r("v-icon",{attrs:{large:""}},[t._v("keyboard_arrow_up")])],1)],1),t._v(" "),r("bottom")],1)},staticRenderFns:[]};var L=r("VU/8")(F,R,!1,function(t){r("Phr4")},null,null).exports,U={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",[e("top"),this._v(" "),e("br"),this._v(" "),e("br"),this._v(" "),e("middle",{attrs:{path:this.path}}),this._v(" "),e("bottom")],1)},staticRenderFns:[]};var A=r("VU/8")({props:["path"]},U,!1,function(t){r("siOa")},null,null).exports,j={data:function(){return{account:"",password:""}},methods:{login:function(){var t=this;h(this.account,this.password).then(function(e){localStorage.setItem("token",e.data.token),alert("登入成功"),t.$router.push("/")}).catch(function(t){alert("帳號或密碼不正確"),window.location.reload()})},register:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,this.$router.push("/register")},forget:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,this.$router.push("/")},fbLogin:function(){var t=this;FB.login(function(e){e.authResponse&&E(e.authResponse.accessToken).then(function(e){localStorage.setItem("token",e.data.token),alert("登入成功"),t.$router.push("/")}).catch(function(t){console.log(t)})})}},beforeMount:function(){var t=localStorage.getItem("token"),e=this;g(t).then(function(t){alert("已登入"),e.$router.push("/")}).catch(function(t){})}},H={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("top"),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("center",[r("v-card",{attrs:{width:"600px"}},[r("br"),t._v(" "),r("v-flex",{attrs:{xs10:"",md10:"",lg10:""}},[r("font",{attrs:{size:"6"}},[r("p",[r("b",[t._v("登入")])])]),t._v(" "),r("v-text-field",{attrs:{label:"帳號",outline:""},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}}),t._v(" "),r("v-text-field",{attrs:{label:"密碼",outline:"",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),r("v-btn",{staticClass:"white--text",attrs:{color:"green accent-4",large:""},on:{click:function(e){t.login()}}},[r("b",[t._v("I2BOOKS會員登入")])]),t._v(" "),r("v-btn",{attrs:{flat:"",small:""},on:{click:function(e){t.forget()}}},[t._v("忘記密碼?")]),t._v(" "),r("b",[t._v("/")]),t._v(" "),r("v-btn",{attrs:{flat:"",small:""},on:{click:function(e){t.register()}}},[t._v("註冊")]),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("v-flex",{attrs:{xs10:""}},[r("v-layout",{attrs:{row:"","align-center":""}},[r("v-divider"),t._v(" "),r("font",{staticClass:"context-menu",attrs:{size:"4"}},[r("p",{staticClass:"dividerText"},[t._v("  或使用其他方式登入:  ")])]),t._v(" "),r("v-divider")],1)],1),t._v(" "),r("v-flex",{attrs:{xs8:"",md8:"",lg8:""}},[r("v-btn",{attrs:{block:"",large:""},on:{click:function(e){t.fbLogin()}}},[t._v("facebook")])],1),t._v(" "),r("br")],1)],1),t._v(" "),r("back-to-top",{attrs:{text:"back to top",visibleoffset:"0"}},[r("v-btn",{attrs:{icon:"",large:"",flat:""}},[r("v-icon",{attrs:{large:""}},[t._v("keyboard_arrow_up")])],1)],1),t._v(" "),r("bottom")],1)},staticRenderFns:[]};var W=r("VU/8")(j,H,!1,function(t){r("8xWA")},null,null).exports,B={props:["path"],data:function(){return{list:[{link:"information",title:"會員資料",hf:"#/member/information"},{link:"update",title:"修改會員資料",hf:"#/member/update"},{link:"password",title:"修改密碼",hf:"#/member/password"},{link:"order",title:"訂單查詢",hf:"#/member/order"},{link:"like",title:"我的最愛",hf:"#/member/like"}],account:{},codeCheck:"",password:{oldPass:"",newPass:"",checkPass:""},state:["訂單處理中","已出貨","訂單完成"],order:{headers:[{text:"訂單編號",align:"left",sortable:!1,value:"id"},{text:"下單日期",align:"left",sortable:!0,value:"date"},{text:"運送方式",align:"left",sortable:!1,value:"ship_type"},{text:"金額",align:"left",sortable:!1,value:"price"},{text:"貨品狀況",align:"left",sortable:!1,value:"state"},{text:"詳細",align:"center",sortable:!1,value:"content"},{text:"取消訂單",align:"center",sortable:!1,value:"cancel"}],shipState:[{type:0,text:"宅配+30",price:30}],pagination:{sortBy:"date",rowsPerPage:5},search:"",list:[],detail:{headers:[{text:"書名",align:"left",sortable:!1,value:"title"},{text:"封面",align:"center",sortable:!1,value:"picture"},{text:"優惠價",align:"left",sortable:!1,value:"price"}],list:[]},cancelDialog:!1,cancelID:-1},like:{headers:[{text:"標題",align:"left",sortable:!1,value:"title"},{text:"封面",align:"left",sortable:!1,value:"picture"},{text:"取消",align:"left",sortable:!1,value:"cancel"}],list:[],pagination:{rowsPerPage:5}}}},methods:{sendCode:function(){var t=localStorage.getItem("token");b(t).then(function(t){alert("發送成功,請至信箱查收驗證碼")}).catch(function(t){alert("操作逾時"),window.location.reload()})},checkCode:function(){var t=localStorage.getItem("token");x(t,this.codeCheck).then(function(t){alert("認證成功"),document.body.scrollTop=0,document.documentElement.scrollTop=0,window.location.reload()}).catch(function(t){alert("認證碼錯誤"),document.body.scrollTop=0,document.documentElement.scrollTop=0,window.location.reload()})},save:function(){var t=localStorage.getItem("token"),e=this,r={email:this.account.email,cellphone:this.account.cellphone,address:this.account.address,name:this.account.name};w(t,this.account.id,r).then(function(t){alert("保存成功"),document.body.scrollTop=0,document.documentElement.scrollTop=0,e.$router.push("/member/information"),window.location.reload()}).catch(function(t){alert("操作逾時"),document.body.scrollTop=0,document.documentElement.scrollTop=0,window.location.reload()})},changePassword:function(){var t=localStorage.getItem("token"),e=this;""!=this.password.oldPass&&""!=this.password.newPass&&""!=this.password.checkPass||alert("有選項未填"),this.newPass!=this.checkPass&&alert("2次密碼不相同"),y(t,this.account.id,this.password).then(function(t){alert("變更成功"),document.body.scrollTop=0,document.documentElement.scrollTop=0,e.$router.push("/member/information"),window.location.reload()}).catch(function(t){alert("舊密碼不正確"),document.body.scrollTop=0,document.documentElement.scrollTop=0,window.location.reload()})},cancelOrder:function(t){for(var e in this.order.list)if(this.order.list[e].id==t){0==this.order.list[e].state?(this.order.cancelID=t,this.order.cancelDialog=!0):(this.order.cancelID=-1,alert("此訂單無法取消"));break}},cancelOrderCheck:function(t){var e=localStorage.getItem("token");z(e,t).then(function(t){alert("取消成功")}).catch(function(t){alert("取消失敗")}).then(function(){location.reload()})},orderDetail:function(t){var e=this;for(var r in this.order.detail.list=[],this.order.list)if(this.order.list[r].id==t){var n=JSON.parse(this.order.list[r].cartlist),o=function(){var t=e;T(n[a]).then(function(e){if(0!=e.data.product.pics)t.order.detail.list.push(e.data.product);else{var r=e.data.product;r.pic.push({url:"http://210.61.46.101:8888//uploadedFile/null.png"}),t.order.detail.list.push(r)}}).catch(function(t){})};for(var a in n)o();break}},changeRoute:function(t){this.$router.push("/product/"+t)},cancelLike:function(t){var e=localStorage.getItem("token");D(e,t).then(function(){alert("刪除成功"),window.location.reload()}).catch(function(t){})}},beforeMount:function(){var t=localStorage.getItem("token"),e=this;g(t).then(function(t){e.account=t.data.account}).catch(function(t){localStorage.removeItem("token"),document.body.scrollTop=0,document.documentElement.scrollTop=0,e.$router.push("/login")}),N(t).then(function(t){for(var r in e.order.list=t.data.orders,e.order.list)e.order.list[r].id=e.order.list[r].id.toString(16)}).catch(function(t){}),O(t).then(function(t){for(var r in e.like.list=t.data.list,console.log(e.like.list),e.like.list)if(0==e.like.list[r].pics){e.like.list[r].pics=1,e.like.list[r].pic.push({url:"http://210.61.46.101:8888//uploadedFile/null.png"})}}).catch(function(t){})}},q={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("top"),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("v-card",{attrs:{flat:""}},[r("br"),t._v(" "),r("v-layout",{attrs:{row:"","align-center":"","justify-center":""}},[r("font",{attrs:{size:"4"}},t._l(t.list,function(e){return r("div",{key:e.title},[e.link==t.path?r("p",[t._v("會員專區 >"+t._s(e.title))]):t._e()])}),0)],1),t._v(" "),r("br"),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs2:""}},[r("v-layout",{attrs:{column:""}},t._l(t.list,function(e){return r("v-btn",{key:e.title,attrs:{flat:"",href:e.hf,small:""}},[r("v-icon"),t._v(t._s(e.title))],1)}),1)],1),t._v(" "),r("v-flex",{attrs:{xs8:"","offset-xs1":""}},[r("v-layout",{attrs:{column:""}},["information"==t.path?r("v-card",{attrs:{flat:""}},[r("font",{attrs:{size:"4"}},[r("p",[t._v("名稱: "+t._s(t.account.name))]),t._v(" "),"0"==t.account.level?r("p",[t._v("會員等級: 一般會員")]):"1"==t.account.level?r("p",[t._v("會員等級: 高級會員")]):t._e(),t._v(" "),r("p",[t._v("帳號: "+t._s(t.account.account))]),t._v(" "),r("p",[r("v-layout",{attrs:{row:"","align-center":""}},[t._v("\n                                    email: "+t._s(t.account.email)+"\n                                       \n                                    "),""==t.account.mailCheck?r("v-icon",[t._v("check_circle_outline")]):t._e(),t._v(" "),""==t.account.mailCheck?r("font",{attrs:{size:"3",color:"darkgray"}},[t._v("已通過認證")]):t._e()],1)],1),t._v(" "),""!=t.account.mailCheck?r("div",[r("v-layout",{attrs:{row:""}},[r("v-text-field",{attrs:{label:"信箱認證碼",outline:""},model:{value:t.codeCheck,callback:function(e){t.codeCheck=e},expression:"codeCheck"}}),t._v(" "),r("v-btn",{on:{click:function(e){t.checkCode()}}},[t._v("認證")]),t._v(" "),r("v-btn",{on:{click:function(e){t.sendCode()}}},[r("v-icon",[t._v("send")]),t._v("重發驗證信")],1)],1)],1):t._e(),t._v(" "),r("p",[t._v("手機: "+t._s(t.account.cellphone))]),t._v(" "),r("p",[t._v("地址: "+t._s(t.account.address))])])],1):"update"==t.path?r("v-card",{attrs:{flat:""}},[1!=t.account.fb?r("div",[r("font",{attrs:{size:"4"}},[r("p",[t._v("帳號: "+t._s(t.account.account))]),t._v(" "),r("v-flex",{attrs:{xs6:""}},[r("v-text-field",{attrs:{label:"名稱"},model:{value:t.account.name,callback:function(e){t.$set(t.account,"name",e)},expression:"account.name"}})],1),t._v(" "),r("v-flex",{attrs:{xs6:""}},[r("v-text-field",{attrs:{label:"email",hint:"信箱修改後需要重新認證"},model:{value:t.account.email,callback:function(e){t.$set(t.account,"email",e)},expression:"account.email"}})],1),t._v(" "),r("v-flex",{attrs:{xs6:""}},[r("v-text-field",{attrs:{label:"手機"},model:{value:t.account.cellphone,callback:function(e){t.$set(t.account,"cellphone",e)},expression:"account.cellphone"}})],1),t._v(" "),r("v-flex",{attrs:{xs6:""}},[r("v-text-field",{attrs:{label:"地址"},model:{value:t.account.address,callback:function(e){t.$set(t.account,"address",e)},expression:"account.address"}})],1)],1),t._v(" "),r("v-btn",{on:{click:function(e){t.save()}}},[r("v-icon",[t._v("save")]),t._v(" 保存")],1)],1):r("div",[r("center",[r("br"),t._v(" "),r("font",{attrs:{size:"5"}},[r("b",[t._v("此為facebook帳戶因此無法修改會員資料")])])],1)],1)]):"password"==t.path?r("v-card",{attrs:{flat:""}},[1!=t.account.fb?r("div",[r("v-flex",{attrs:{xs5:""}},[r("v-text-field",{ref:"password.oldPass",attrs:{label:"舊密碼",type:"password",outline:"",rules:[function(){return!!t.password.oldPass||"請輸入密碼"}],required:""},model:{value:t.password.oldPass,callback:function(e){t.$set(t.password,"oldPass",e)},expression:"password.oldPass"}})],1),t._v(" "),r("v-flex",{attrs:{xs5:""}},[r("v-text-field",{ref:"password.newPass",attrs:{label:"新密碼",type:"password",outline:"",rules:[function(){return!!t.password.newPass||"請輸入密碼"}],required:""},model:{value:t.password.newPass,callback:function(e){t.$set(t.password,"newPass",e)},expression:"password.newPass"}})],1),t._v(" "),r("v-flex",{attrs:{xs5:""}},[r("v-text-field",{ref:"password.checkPass",attrs:{label:"確認新密碼",type:"password",outline:"",rules:[function(){return!!t.password.checkPass||"請輸入密碼"}],required:""},model:{value:t.password.checkPass,callback:function(e){t.$set(t.password,"checkPass",e)},expression:"password.checkPass"}})],1),t._v(" "),r("v-btn",{on:{click:function(e){t.changePassword()}}},[r("v-icon",[t._v("vpn_key")]),t._v(" 確認變更")],1)],1):r("div",[r("center",[r("br"),t._v(" "),r("font",{attrs:{size:"5"}},[r("b",[t._v("此為facebook帳戶因此無法修改密碼")])])],1)],1)]):"order"==t.path?r("v-card",{attrs:{flat:""}},[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.order.headers,items:t.order.list,search:t.order.search,"item-key":"id",pagination:t.order.detail.pagination},on:{"update:pagination":function(e){t.$set(t.order.detail,"pagination",e)}},scopedSlots:t._u([{key:"headerCell",fn:function(e){return[r("v-tooltip",{attrs:{bottom:""}},[r("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n                                    "+t._s(e.header.text)+"\n                                    ")]),t._v(" "),r("span",[t._v("\n                                    "+t._s(e.header.text)+"\n                                    ")])])]}},{key:"items",fn:function(e){return[r("td",[t._v(t._s(e.item.id))]),t._v(" "),r("td",[t._v(t._s(e.item.date))]),t._v(" "),r("td",[t._v(t._s(t.order.shipState[e.item.ship_type].text))]),t._v(" "),r("td",[t._v(t._s(e.item.money+t.order.shipState[e.item.ship_type].price))]),t._v(" "),r("td",[t._v(t._s(t.state[e.item.state]))]),t._v(" "),r("td",[r("v-btn",{attrs:{small:""},on:{click:function(r){t.orderDetail(e.item.id)}}},[t._v("訂單內容")])],1),t._v(" "),r("td",[r("v-btn",{attrs:{small:""},on:{click:function(r){t.cancelOrder(e.item.id)}}},[t._v("取消訂單")])],1)]}}])}),t._v(" "),r("br"),t._v(" "),r("v-divider"),t._v(" "),r("v-dialog",{attrs:{width:"300"},model:{value:t.order.cancelDialog,callback:function(e){t.$set(t.order,"cancelDialog",e)},expression:"order.cancelDialog"}},[r("v-card",{attrs:{width:"300",height:"200"}},[r("center",[r("br"),t._v(" "),r("br"),t._v(" "),r("font",{attrs:{size:"4"}},[t._v("確定要取消此訂單?")])],1),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-btn",{on:{click:function(e){t.cancelOrderCheck(t.order.cancelID)}}},[t._v("是")]),r("v-btn",{on:{click:function(e){t.order.cancelDialog=!1}}},[t._v("否")])],1),t._v(" "),r("br")],1)],1),t._v(" "),r("br"),t._v(" "),0!=this.order.detail.list.length?r("v-card",{attrs:{flat:""}},[r("center",[r("font",{attrs:{size:"4"}},[r("p",[t._v("訂單內容")])])],1),t._v(" "),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.order.detail.headers,items:t.order.detail.list,"item-key":"id",pagination:t.order.pagination},on:{"update:pagination":function(e){t.$set(t.order,"pagination",e)}},scopedSlots:t._u([{key:"headerCell",fn:function(e){return[r("v-tooltip",{attrs:{bottom:""}},[r("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n                                    "+t._s(e.header.text)+"\n                                    ")]),t._v(" "),r("span",[t._v("\n                                    "+t._s(e.header.text)+"\n                                    ")])])]}},{key:"items",fn:function(e){return[r("td",{staticClass:"pointer",on:{click:function(r){t.changeRoute(e.item.id)}}},[t._v(t._s(e.item.title))]),t._v(" "),r("td",{staticClass:"pointer",on:{click:function(r){t.changeRoute(e.item.id)}}},[r("v-img",{attrs:{contain:"",src:e.item.pic[0].url,width:"180"}})],1),t._v(" "),r("td",{staticClass:"pointer",on:{click:function(r){t.changeRoute(e.item.id)}}},[t._v(t._s(e.item.sell))])]}}])})],1):t._e()],1):"like"==t.path?r("v-card",{attrs:{flat:""}},[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.like.headers,items:t.like.list,"item-key":"id",pagination:t.like.pagination},on:{"update:pagination":function(e){t.$set(t.like,"pagination",e)}},scopedSlots:t._u([{key:"headerCell",fn:function(e){return[r("v-tooltip",{attrs:{bottom:""}},[r("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n                                    "+t._s(e.header.text)+"\n                                    ")]),t._v(" "),r("span",[t._v("\n                                    "+t._s(e.header.text)+"\n                                    ")])])]}},{key:"items",fn:function(e){return[r("td",{staticClass:"pointer",on:{click:function(r){t.changeRoute(e.item.id)}}},[t._v(t._s(e.item.title))]),t._v(" "),r("td",{staticClass:"pointer",on:{click:function(r){t.changeRoute(e.item.id)}}},[r("v-img",{attrs:{contain:"",src:e.item.pic[0].url,width:"180"}})],1),t._v(" "),r("td",[r("v-btn",{attrs:{icon:""},on:{click:function(r){t.cancelLike(e.item.id)}}},[r("v-icon",[t._v("close")])],1)],1)]}}])})],1):t._e()],1)],1)],1)],1),t._v(" "),r("back-to-top",{attrs:{text:"back to top",visibleoffset:"0"}},[r("v-btn",{attrs:{icon:"",large:"",flat:""}},[r("v-icon",{attrs:{large:""}},[t._v("keyboard_arrow_up")])],1)],1),t._v(" "),r("bottom")],1)},staticRenderFns:[]};var J=r("VU/8")(B,q,!1,function(t){r("Rz+o")},null,null).exports,G=r("BO1k"),Q=r.n(G),Y={data:function(){return{name:null,account:null,password:null,passwordCheck:null,email:null,code:"",checkCode:"",agreement:null,newsletter:null,formHasErrors:!1,errorMessages1:"",errorMessages2:""}},watch:{account:function(t,e){var r=this;f(t).then(function(){r.errorMessages1="此帳號已被使用"}).catch(function(t){r.errorMessages1=""})},email:function(t,e){var r=this;_(t).then(function(){r.errorMessages2="此信箱已被使用"}).catch(function(t){r.errorMessages2=""})}},computed:{form:function(){return{name:this.name,account:this.account,password:this.password,passwordCheck:this.passwordCheck,email:this.email}}},methods:{createCode:function(){for(var t="",e=new Array(0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"),r=0;r<4;r++){t+=e[Math.floor(36*Math.random())]}this.checkCode=t},register:function(){var t=!0,e=!1,r=void 0;try{for(var n,o=Q()(["name","account","password","passwordCheck","email","code"]);!(t=(n=o.next()).done);t=!0){var a=n.value;if(""==this[a]||null==this[a])return alert("有選項未填寫"),document.body.scrollTop=0,document.documentElement.scrollTop=0,void this.createCode()}}catch(t){e=!0,r=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw r}}if(this.password!==this.passwordCheck)return alert("2次密碼不相同"),document.body.scrollTop=0,document.documentElement.scrollTop=0,void this.createCode();if(""!=this.errorMessages1||""!=this.errorMessages2)return alert("帳號或信箱已被使用"),document.body.scrollTop=0,document.documentElement.scrollTop=0,void this.createCode();if(this.checkCode!==this.code)return alert("驗證碼錯誤"),document.body.scrollTop=0,document.documentElement.scrollTop=0,void this.createCode();if(null!=this.agreement){var s={name:this.name,account:this.account,password:this.password,email:this.email,newsletter:this.newsletter};console.log(s),p(s).then(function(){alert("註冊成功"),window.location.reload()}).catch(function(t){alert("操作逾時"),window.location.reload()})}else alert("請同意會員服務條款")}},beforeMount:function(){this.createCode()}},K={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("top"),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs5:"",md5:"",lg5:""}},[r("v-layout",{attrs:{column:""}},[r("v-card",{ref:"form"},[r("center",[r("v-card",{attrs:{color:"green accent-1",height:"60px"}},[r("br"),t._v(" "),r("b",[r("font",{staticClass:"context-menu",attrs:{size:"5"}},[t._v("會員註冊")])],1)]),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("v-flex",{attrs:{xs10:"",md10:"",lg10:""}},[r("v-text-field",{ref:"name",attrs:{label:"姓名",outline:"",rules:[function(){return!!t.name||"請輸入姓名"}],required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),r("v-text-field",{attrs:{label:"帳號","error-messages":t.errorMessages1,outline:"",rules:[function(){return!!t.account||"請輸入帳號"}],required:""},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}}),t._v(" "),r("v-text-field",{ref:"password",attrs:{label:"密碼",outline:"",type:"password",rules:[function(){return!!t.password||"請輸入密碼"}],required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),r("v-text-field",{ref:"passwordCheck",attrs:{label:"確認密碼",outline:"",type:"password",rules:[function(){return!!t.passwordCheck||"請輸入確認密碼"}],required:""},model:{value:t.passwordCheck,callback:function(e){t.passwordCheck=e},expression:"passwordCheck"}}),t._v(" "),r("v-text-field",{ref:"email",attrs:{label:"電子信箱","error-messages":t.errorMessages2,outline:"",rules:[function(){return!!t.email||"請輸入電子信箱"}],required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-text-field",{attrs:{label:"驗證碼",outline:""},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),r("div",{staticClass:"verify-box pointer",on:{click:function(e){t.createCode()}}},[r("identify",{attrs:{identifyCode:t.checkCode}})],1)],1),t._v(" "),r("v-checkbox",{attrs:{label:"我同意i2books服務條款","hide-details":""},model:{value:t.agreement,callback:function(e){t.agreement=e},expression:"agreement"}}),t._v(" "),r("v-checkbox",{attrs:{label:"我願意收到i2books電子報及相關優惠通知","hide-details":""},model:{value:t.newsletter,callback:function(e){t.newsletter=e},expression:"newsletter"}}),t._v(" "),r("br"),t._v(" "),r("center",[r("v-btn",{on:{click:function(e){t.register()}}},[t._v("註冊")])],1),t._v(" "),r("br"),t._v(" "),r("v-layout",{attrs:{row:"","align-center":""}},[r("v-divider"),t._v(" "),r("font",{staticClass:"context-menu",attrs:{size:"4"}},[r("p",{staticClass:"dividerText"},[t._v("  您也可以使用以下方式登入:  ")])]),t._v(" "),r("v-divider")],1),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs10:"",md10:"",lg10:"","offset-xs1":"","offset-md1":"","offset-lg1":""}},[r("v-btn",[t._v("facebook")]),t._v(" "),r("v-btn",[t._v("google")])],1)],1),t._v(" "),r("br")],1)],1)],1)],1)],1),t._v(" "),r("v-flex",{attrs:{"offset-xs1":"","offset-md1":"","offset-lg1":"",xs7:"",md7:"",lg7:""}},[r("v-card",[r("br"),t._v(" "),r("center",[r("b",[r("font",{staticClass:"context-menu",attrs:{size:"6"}},[t._v("個人資料授權/取得使用同意書")])],1)]),t._v(" "),r("v-flex",{attrs:{xs10:"",md10:"",lg10:"","offset-xs1":"","offset-md1":"","offset-lg1":""}},[r("font",{staticClass:"context-menu",attrs:{size:"4"}},[r("br"),r("br"),t._v("\n                        本人為申請參加杏文勤閱國際有限公司實體店面(一手茶飲/二手書供需流通)會員及/或加入網路會員，同意提供貴單位蒐集保存、電腦處理、利用本人之個人資料進行單向/雙向互動，並同意以下各條款:"),r("br"),r("br"),t._v("\n                        1.貴單位取得本人之個人資料，目的在於個人資料保護法及相關法令之規定下，為提供良好服務及業務之必要範圍內，蒐集、處理及利用本人之個人資料。"),r("br"),r("br"),t._v("\n                        2.本人可依需要提供以下資料:姓名、生日、聯絡地址、電話、電子信箱、身分證字號等相關資料或其他得以直接或間接辨別本人個人之資料。"),r("br"),r("br"),t._v("\n                        3.本人同意貴單位以本人所提供的個人資料確認身份、進行聯絡、提供相關服務及資訊，包括各種活動舉辦通知、電子報、Line生活圈、或EDM發送、特別活動、獎項兌換等用途，以及其他隱私權保護政策規範之使用方式。"),r("br"),r("br"),t._v("\n                        4.本人同意如後「附件」本人申請會員填用之表格資料。"),r("br"),r("br"),t._v("\n                        5.本人可依個人資料保護法，就本人資料向貴單位(1)請求查詢或閱覽、(2)請求製給複製本、(3)請求補充或更正、(4)請求停止蒐集、處理及利用、(5)請求刪除"),r("br"),r("br"),t._v("\n                        6.同意貴單位利用處理本人的個人資料之期間為加入會員起，至本人主動告知刪除個人資料止；利用本人資料的地區僅限於國境內。"),r("br"),r("br"),t._v("\n                        此致"),r("br"),r("br"),t._v("\n                        杏文勤閱國際有限公司(及如下關係企業)"),r("br"),t._v("\n                        昶特有限公司(www.5118.com.tw)"),r("br"),t._v("\n                        亞帝國際有限公司(www.5117.com.tw)"),r("br"),r("br")])],1)],1)],1)],1),t._v(" "),r("back-to-top",{attrs:{text:"back to top",visibleoffset:"0"}},[r("v-btn",{attrs:{icon:"",large:"",flat:""}},[r("v-icon",{attrs:{large:""}},[t._v("keyboard_arrow_up")])],1)],1),t._v(" "),r("bottom")],1)},staticRenderFns:[]};var Z=r("VU/8")(Y,K,!1,function(t){r("QbWG")},null,null).exports,X={props:["type","searchname"],data:function(){return{filterType:[{text:"全文",value:0},{text:"書名",value:1},{text:"作者",value:2},{text:"出版社",value:3}],page:1,pages:1,search:"",numPerPage:40,filter:{value:0},products:[]}},methods:{searching:function(){""!=this.search&&(this.$router.push("/search/"+this.filter.value+"/"+this.search),window.location.reload())}},beforeMount:function(){""==this.type&&this.$router.push("/");var t=this;m(this.type,this.searchname).then(function(e){for(var r in t.products=e.data.products,console.log(t.products),t.products)if(0==t.products[r].pics){t.products[r].pic.push({url:"http://localhost:3000/uploadedFile/null.png"})}t.pages=Math.ceil(t.products.length/50),t.page=1}).catch(function(e){alert("查無結果"),t.$router.push("/")})}},tt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("top"),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-text-field",{attrs:{placeholder:"找好書...",solo:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),r("v-flex",{attrs:{xs2:"",md2:"",lg2:""}},[r("v-select",{attrs:{attach:"",items:t.filterType,solo:"","item-text":"text","item-value":"value"},model:{value:t.filter.value,callback:function(e){t.$set(t.filter,"value",e)},expression:"filter.value"}})],1),t._v(" "),r("v-btn",{attrs:{icon:"",color:"green darken-3"},on:{click:function(e){t.searching()}}},[r("v-icon",{attrs:{color:"white"}},[t._v("search")])],1)],1),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs3:""}},[r("shoppingType",{attrs:{type:0}})],1),t._v(" "),r("v-flex",{attrs:{xs9:""}},[r("br"),t._v(" "),r("br"),t._v(" "),r("p",[r("v-icon",{attrs:{color:"#2E7D32"}},[t._v("directions")]),t._v("  "),r("font",{attrs:{size:"4"}},[t._v("買二手書 > 搜尋 > "+t._s(t.searchname))])],1),t._v(" "),r("v-card",[r("br"),t._v(" "),r("br"),t._v(" "),r("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},t._l(t.numPerPage,function(e){return r("v-flex",{key:e,attrs:{md3:"",sm4:""}},[r("br"),t._v(" "),(t.page-1)*t.numPerPage+e-1<t.products.length?r("v-card",{attrs:{height:"250px",href:"#/product/"+t.products[e-1].id}},[r("v-layout",{attrs:{column:""}},[r("center",[r("br"),t._v(" "),r("b",[t._v(t._s(t.products[e-1].title))]),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("v-img",{attrs:{contain:"",height:"100px",width:"90%",src:t.products[e-1].pic[0].url}}),t._v(" "),r("br"),t._v(" "),r("s",[t._v("售價:"+t._s(t.products[e-1].price))]),t._v(" "),r("b",[r("font",{attrs:{size:"4",color:"red"}},[t._v(" "+t._s(t.products[e-1].sell))])],1)],1)],1)],1):t._e(),t._v(" "),r("br")],1)}),1),t._v(" "),r("v-flex",{attrs:{"offset-xs1":"",xs10:""}},[r("v-divider")],1),t._v(" "),r("br"),t._v(" "),r("center",[r("v-pagination",{attrs:{length:t.pages,color:"#2E7D32"},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}),t._v(" "),r("br"),t._v(" "),r("br")],1)],1)],1)],1),t._v(" "),r("bottom")],1)},staticRenderFns:[]};var et=r("VU/8")(X,tt,!1,function(t){r("DTRz")},null,null).exports,rt={props:["type"],data:function(){return{filterType:[{text:"全文",value:0},{text:"書名",value:1},{text:"作者",value:2},{text:"出版社",value:3}],search:"",filter:{value:0},page:1,pages:1,numPerPage:40,products:[],allProductItems:[],allTypeItems:[],typeList:[]}},methods:{searching:function(){""!=this.search&&this.$router.push("/search/"+this.filter.value+"/"+this.search)},getSubType:function(t){var e=[];for(var r in this.allTypeItems)this.allTypeItems[r].super_id==t&&e.push(this.allTypeItems[r]);if(0!=e.length){var n=[];for(var r in e){var o=this.getSubType(e[r].id);n=n.concat(o)}e=e.concat(n)}return e},getSuperType:function(t){if(0!=t)for(var e in this.allTypeItems)if(this.allTypeItems[e].id==t)return this.typeList.splice(0,0,this.allTypeItems[e]),void this.getSuperType(this.allTypeItems[e].super_id)}},beforeMount:function(){var t=this;S().then(function(e){t.allProductItems=e.data.products.reverse(),P().then(function(e){t.allTypeItems=e.data.types;var r=t.getSubType(t.type);for(var n in t.products=[],r)for(var o in t.allProductItems)t.allProductItems[o].type==r[n].id&&t.products.push(t.allProductItems[o]);for(var n in t.products)if(0==t.products[n].pics){t.products[n].pic.push({url:"http://localhost:3000/uploadedFile/null.png"})}t.typeList=[],t.getSuperType(t.type),t.pages=Math.ceil(t.products.length/t.numPerPage),t.page=1}).catch(function(t){})}).catch(function(t){})}},nt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("top"),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-text-field",{attrs:{placeholder:"找好書...",solo:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),r("v-flex",{attrs:{xs2:"",md2:"",lg2:""}},[r("v-select",{attrs:{attach:"",items:t.filterType,solo:"","item-text":"text","item-value":"value"},model:{value:t.filter.value,callback:function(e){t.$set(t.filter,"value",e)},expression:"filter.value"}})],1),t._v(" "),r("v-btn",{attrs:{icon:"",color:"green darken-3"},on:{click:function(e){t.searching()}}},[r("v-icon",{attrs:{color:"white"}},[t._v("search")])],1)],1),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs3:""}},[r("ShoppingType",{attrs:{type:t.type}})],1),t._v(" "),r("v-flex",{attrs:{xs9:""}},[r("br"),t._v(" "),r("br"),t._v(" "),r("p",[r("v-icon",{attrs:{color:"#2E7D32"}},[t._v("directions")]),t._v("  "),r("font",{attrs:{size:"4"}},[t._v("買二手書")]),t._l(t.typeList.length,function(e){return r("font",{key:e,attrs:{size:"4"}},[t._v("    >  "+t._s(t.typeList[e-1].name)+" ")])})],2),t._v(" "),r("v-card",[r("br"),t._v(" "),r("br"),t._v(" "),r("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},t._l(t.numPerPage,function(e){return r("v-flex",{key:e,attrs:{md3:"",sm4:""}},[r("br"),t._v(" "),(t.page-1)*t.numPerPage+e-1<t.products.length?r("v-card",{attrs:{height:"250px",href:"#/product/"+t.products[e-1].id}},[r("v-layout",{attrs:{column:""}},[r("center",[r("br"),t._v(" "),r("b",[t._v(t._s(t.products[e-1].title))]),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("v-img",{attrs:{contain:"",height:"100px",width:"90%",src:t.products[e-1].pic[0].url}}),t._v(" "),r("br"),t._v(" "),r("s",[t._v("售價:"+t._s(t.products[e-1].price))]),t._v(" "),r("b",[r("font",{attrs:{size:"4",color:"red"}},[t._v(" "+t._s(t.products[e-1].sell))])],1)],1)],1)],1):t._e(),t._v(" "),r("br")],1)}),1),t._v(" "),r("v-flex",{attrs:{"offset-xs1":"",xs10:""}},[r("v-divider")],1),t._v(" "),r("br"),t._v(" "),r("center",[r("v-pagination",{attrs:{length:t.pages,color:"#2E7D32"},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}),t._v(" "),r("br"),t._v(" "),r("br")],1)],1)],1)],1),t._v(" "),r("back-to-top",{attrs:{text:"back to top",visibleoffset:"0"}},[r("v-btn",{attrs:{icon:"",large:"",flat:""}},[r("v-icon",{attrs:{large:""}},[t._v("keyboard_arrow_up")])],1)],1),t._v(" "),r("bottom")],1)},staticRenderFns:[]};var ot=r("VU/8")(rt,nt,!1,function(t){r("3GMH")},null,null).exports,at=r("mvHQ"),st=r.n(at),it={props:["id"],data:function(){return{product:{pic:[]},Cycle:!1,filterType:[{text:"全文",value:0},{text:"書名",value:1},{text:"作者",value:2},{text:"出版社",value:3}],search:"",filter:{value:0},otherProducts:[],dialog:!1,snackbar:!1,snackbar2:!1,rerender:!1}},methods:{buy:function(){var t=localStorage.getItem("shoppingCart");if(this.number>this.product.number)alert("商品數量不足");else{for(var e in t=null==t?[]:JSON.parse(t))if(t[e].id==this.product.id)return this.dialogText="此商品重複選購",void(this.dialog=!0);var r={id:this.product.id,title:this.product.title,pic:this.product.pic[0],price:this.product.price,sell:this.product.sell};t.push(r),localStorage.setItem("shoppingCart",st()(t)),this.snackbar=!0,this.rerender=!0}},like:function(){var t=localStorage.getItem("token"),e=this;V(t,this.product.id).then(function(){e.snackbar2=!0}).catch(function(t){})},changeRoute:function(t){this.$router.push("/product/"+t),window.location.reload(),document.body.scrollTop=0,document.documentElement.scrollTop=0;var e=this;T(this.id).then(function(t){if(e.product=t.data.product,0==e.product.pics){e.product.pic.push({url:"http://210.61.46.101:8888/uploadedFile/null.png"})}if(0!=e.product.number)for(var r=1;r<=e.product.number;r++)e.selects.push(r)}).catch(function(t){}),S().then(function(t){e.otherProducts=[];for(var r=0;r<5&&!(r>=t.data.products.length);r++)e.otherProducts.push(t.data.products[Math.floor(Math.random()*t.data.products.length)]);for(r=0;r<e.otherProducts.length;r++)if(0==e.otherProducts[r].pics){e.otherProducts[r].pic.push({url:"http://210.61.46.101:8888/uploadedFile/null.png"})}}).catch(function(t){})}},beforeMount:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0;var t=this;T(this.id).then(function(e){if(t.product=e.data.product,0==t.product.pics){t.product.pic.push({url:"http://210.61.46.101:8888/uploadedFile/null.png"})}if(0!=t.product.number)for(var r=1;r<=t.product.number;r++)t.selects.push(r)}).catch(function(t){}),S().then(function(e){t.otherProducts=[];for(var r=0;r<5&&!(r>=e.data.products.length);r++)t.otherProducts.push(e.data.products[Math.floor(Math.random()*e.data.products.length)]);for(r=0;r<t.otherProducts.length;r++)if(0==t.otherProducts[r].pics){t.otherProducts[r].pic.push({url:"http://210.61.46.101:8888/uploadedFile/null.png"})}}).catch(function(t){})}},ct={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("top",{attrs:{rerender:t.rerender}}),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-text-field",{attrs:{placeholder:"找好書...",solo:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),r("v-flex",{attrs:{xs2:"",md2:"",lg2:""}},[r("v-select",{attrs:{attach:"",items:t.filterType,solo:"","item-text":"text","item-value":"value"},model:{value:t.filter.value,callback:function(e){t.$set(t.filter,"value",e)},expression:"filter.value"}})],1),t._v(" "),r("v-btn",{attrs:{icon:"",color:"green darken-3"},on:{click:function(e){t.searching()}}},[r("v-icon",{attrs:{color:"white"}},[t._v("search")])],1)],1),t._v(" "),r("v-dialog",{attrs:{width:"200px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",{attrs:{color:"grey lighten-5"}},[r("center",{staticStyle:{"background-color":"#EEEEEE"}},[r("br"),t._v(" "),r("font",{attrs:{size:"4"}},[r("p",[t._v("確認視窗")])]),t._v(" "),r("v-divider")],1),t._v(" "),r("center",[r("br"),t._v(" "),r("font",{attrs:{size:"4"}},[r("p",[t._v("此商品重複選購")])]),t._v(" "),r("v-btn",{attrs:{color:"gray lighten-4"},on:{click:function(e){t.dialog=!1}}},[t._v("確定")]),t._v(" "),r("br"),t._v(" "),r("br")],1)],1)],1),t._v(" "),r("v-snackbar",{attrs:{top:"",right:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[r("v-layout",{attrs:{"align-center":""}},[r("center",[t._v("已放進購物車")])],1)],1),t._v(" "),r("v-snackbar",{attrs:{top:"",right:""},model:{value:t.snackbar2,callback:function(e){t.snackbar2=e},expression:"snackbar2"}},[r("v-layout",{attrs:{"align-center":""}},[r("center",[t._v("已加入我的最愛")])],1)],1),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs3:""}},[r("shoppingType",{attrs:{type:0}})],1),t._v(" "),r("v-flex",{attrs:{xs9:""}},[r("br"),t._v(" "),r("br"),t._v(" "),r("v-card",[r("br"),t._v(" "),r("br"),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs4:"","offset-xs1":""}},[r("v-carousel",{attrs:{cycle:t.Cycle,"hide-delimiters":"",height:"400px"}},t._l(t.product.pic,function(t,e){return r("v-carousel-item",{key:e,attrs:{"next-icon":"mdi-dark mdi-arrow-right"}},[r("v-layout",{attrs:{"align-center":"","fill-height":"","justify-center":""}},[r("v-img",{attrs:{src:t.url,contain:""}})],1)],1)}),1)],1),t._v(" "),r("v-flex",{attrs:{xs4:"","offset-xs1":""}},[r("br"),t._v(" "),r("v-layout",{attrs:{column:""}},[r("font",{attrs:{size:"4"}},[r("p",[t._v("書名: "+t._s(t.product.title))]),t._v(" "),r("p",[t._v("作者: "+t._s(t.product.authors))]),t._v(" "),r("p",[t._v("出版社: "+t._s(t.product.publisher))]),t._v(" "),r("p",[t._v("ISBN: "+t._s(t.product.isbn))]),t._v(" "),0==t.product.number?r("p",[t._v("商品狀況: "),r("font",{attrs:{color:"red"}},[t._v("已售罄")])],1):r("p",[t._v("商品狀況: 可供貨")]),t._v(" "),r("p",[t._v("定價: NT$ "),r("s",[t._v(t._s(t.product.price))])]),t._v(" "),r("p",{staticStyle:{color:"red"}},[r("b",[t._v("優惠價: NT$ "+t._s(t.product.sell))])])]),t._v(" "),r("br"),t._v(" "),r("v-layout",{attrs:{row:""}},[0!=t.product.number?r("v-btn",{on:{click:function(e){t.buy()}}},[r("v-icon",[t._v("shopping_cart")]),t._v("加入購物車")],1):t._e(),t._v(" "),r("v-btn",{on:{click:function(e){t.like()}}},[r("v-icon",{attrs:{color:"red"}},[t._v("favorite")]),t._v("我有興趣")],1)],1)],1)],1)],1),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("v-flex",{attrs:{xs10:"","offset-xs1":""}},[r("v-divider")],1),t._v(" "),r("br"),t._v(" "),r("v-flex",{attrs:{"offset-xs1":"",xs10:""}},[r("font",{attrs:{size:"4"}},[r("p",[r("b",[t._v("內容簡介:")])]),t._v(" "),r("p",{staticStyle:{"word-break":"break-all"}},[t._v(t._s(t.product.description))]),t._v(" "),r("p",[r("b",[t._v("商品備註:")])]),t._v(" "),r("p",{staticStyle:{"word-break":"break-all"}},[t._v(t._s(t.product.ps))])])],1),t._v(" "),r("v-flex",{attrs:{xs10:"","offset-xs1":""}},[r("v-divider")],1),t._v(" "),r("br"),t._v(" "),r("v-flex",{attrs:{"offset-xs1":"",xs10:""}},[r("font",{attrs:{size:"4"}},[r("p",[t._v("其他二手書推薦:")])]),t._v(" "),r("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},t._l(5,function(e){return r("v-flex",{key:e,attrs:{xs2:""}},[e-1<t.otherProducts.length?r("v-card",{staticClass:"pointer",attrs:{height:"250px",flat:""},on:{click:function(r){t.changeRoute(t.otherProducts[e-1].id)}}},[r("v-layout",{attrs:{column:""}},[r("center",[r("br"),t._v(" "),r("b",[t._v(t._s(t.otherProducts[e-1].title))]),t._v(" "),r("v-img",{attrs:{contain:"",height:"100px",width:"90%",src:t.otherProducts[e-1].pic[0].url}}),t._v(" "),r("br"),t._v(" "),r("s",[t._v("售價:"+t._s(t.otherProducts[e-1].price))]),t._v(" "),r("b",[r("font",{attrs:{size:"4",color:"red"}},[t._v(" "+t._s(t.otherProducts[e-1].sell))])],1)],1)],1)],1):t._e()],1)}),1)],1),t._v(" "),r("br")],1)],1)],1),t._v(" "),r("bottom")],1)},staticRenderFns:[]};var lt=r("VU/8")(it,ct,!1,function(t){r("QjWp")},null,null).exports,ut={data:function(){return{pagination:{rowsPerPage:10},headers:[{text:"書名",align:"center",sortable:!1,value:"title"},{text:"封面",align:"center",sortable:!1,value:"picture"},{text:"優惠價",align:"center",sortable:!1,value:"price"},{text:"貨品狀況",align:"center",sortable:!1,value:"state"},{text:"刪除",align:"center",sortable:!1,value:"cancel"}],shoppingCart:[],shoppingCartView:[],numOfPrice:0,numOfList:0,rerender:!1,dialog:!1}},methods:{deleteShoppingCartItem:function(t){for(var e in this.shoppingCartView)if(this.shoppingCartView[e].id==t){this.numOfPrice-=parseInt(this.shoppingCartView[e].sell),this.shoppingCartView.splice(e,1),localStorage.setItem("shoppingCart",st()(this.shoppingCartView)),this.numOfList--,this.rerender=!0;break}},checkOut:function(){var t=this;if(this.numOfList==this.shoppingCartView.length)if(0!=this.numOfList){var e=localStorage.getItem("token"),r=this,n=!0;g(e).then(function(e){if(""!=e.data.account.mailCheck)return alert("帳號信箱驗證未通過"),n=!1,void t.$router.push("/member/information")}).catch(function(t){alert("請先登入"),n=!1,r.$router.push("./login")}).then(function(){1==n&&t.$router.push("/checkout")})}else alert("購物車內沒有商品");else this.dialog=!0},removeNullProduct:function(){for(var t=0;t<this.shoppingCartView.length;t++)0==this.shoppingCartView[t].state&&(this.shoppingCartView.splice(t,1),t--);localStorage.setItem("shoppingCart",st()(this.shoppingCartView)),this.rerender=!0,this.dialog=!1,this.checkOut()}},beforeMount:function(){this.numOfPrice=0,this.numOfList=0;var t=this;for(var e in this.shoppingCart=JSON.parse(localStorage.getItem("shoppingCart")),this.shoppingCart)T(this.shoppingCart[e].id).then(function(e){var r={};for(var n in t.shoppingCart)if(t.shoppingCart[n].id==e.data.product.id){r=t.shoppingCart[n],e.data.product.number>=1?(r.state=!0,t.numOfList++,t.numOfPrice+=parseInt(e.data.product.sell)):r.state=!1;break}t.shoppingCartView.push(r)}).catch(function(t){})}},vt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("top",{attrs:{rerender:t.rerender}}),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("v-card",[r("v-data-table",{attrs:{headers:t.headers,items:t.shoppingCartView,"item-key":"id",pagination:t.pagination,rowsPerPageItems:[10]},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"headerCell",fn:function(e){return[r("v-tooltip",{attrs:{bottom:""}},[r("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n                    "+t._s(e.header.text)+"\n                    ")]),t._v(" "),r("span",[t._v("\n                    "+t._s(e.header.text)+"\n                    ")])])]}},{key:"items",fn:function(e){return[r("td",[r("a",{staticStyle:{"text-decoration":"none",color:"black"},attrs:{href:"#/product/"+e.item.id}},[t._v(t._s(e.item.title))])]),t._v(" "),r("td",[r("v-layout",{attrs:{row:""}},[r("v-divider",{attrs:{vertical:""}}),t._v("\n                          \n                        "),r("br"),r("v-img",{attrs:{contain:"",src:e.item.pic.url,width:"80"}}),r("br"),t._v("\n                          \n                        "),r("v-divider",{attrs:{vertical:""}})],1)],1),t._v(" "),r("td",[r("s",[t._v("售價:"+t._s(e.item.price))]),t._v(" "),r("b",[r("font",{attrs:{size:"3",color:"red"}},[t._v("優惠價: "+t._s(e.item.sell))])],1)]),t._v(" "),r("td",[r("v-layout",{attrs:{row:""}},[r("v-divider",{attrs:{vertical:""}}),t._v("\n                          \n                        "),r("v-layout",{attrs:{column:""}},[r("br"),t._v(" "),r("br"),t._v(" "),r("center",[1==e.item.state?r("p",[t._v("可供貨")]):r("p",[r("font",{attrs:{color:"red"}},[t._v("已售罄")])],1)]),t._v(" "),r("br"),t._v(" "),r("br")],1),t._v("\n                          \n                        "),r("v-divider",{attrs:{vertical:""}})],1)],1),t._v(" "),r("td",[r("v-btn",{on:{click:function(r){t.deleteShoppingCartItem(e.item.id)}}},[r("v-icon",[t._v("cancel")]),t._v("刪除")],1)],1)]}}])}),t._v(" "),r("br"),t._v(" "),r("v-card",{attrs:{color:"green lighten-5"}},[r("br"),t._v(" "),r("v-layout",{attrs:{row:""}},[r("b",[r("font",{attrs:{size:"4"}},[t._v("   總消費金額:")])],1),t._v(" "),r("v-spacer"),t._v(" "),r("b",[r("font",{attrs:{size:"4"}},[t._v("共 "),r("font",{attrs:{color:"red"}},[t._v(t._s(t.numOfList))]),t._v(" 件商品，總計 NT$ "),r("font",{attrs:{color:"red"}},[t._v(t._s(t.numOfPrice)+" ")]),t._v("元")],1),t._v("   ")],1)],1),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-spacer"),t._v(" "),r("b",[r("font",{attrs:{color:"red"}},[t._v("*不包含已售罄商品   ")])],1)],1),t._v(" "),r("br"),t._v(" "),r("center",[r("v-btn",{attrs:{round:"",color:"pink account-2"},on:{click:function(e){t.checkOut()}}},[r("v-icon",{attrs:{color:"white"}},[t._v("shopping_cart")]),r("b",[r("font",{attrs:{color:"white"}},[t._v("我要結帳")])],1)],1)],1),t._v(" "),r("br")],1)],1),t._v(" "),r("v-dialog",{attrs:{width:"300px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",{attrs:{color:"grey lighten-5"}},[r("center",{staticStyle:{"background-color":"#EEEEEE"}},[r("br"),t._v(" "),r("font",{attrs:{size:"4"}},[r("p",[t._v("確認視窗")])]),t._v(" "),r("v-divider")],1),t._v(" "),r("br"),t._v(" "),r("v-flex",{attrs:{"offset-xs1":"",xs10:""}},[r("font",{attrs:{size:"4"}},[r("p",[t._v("購物車中有已售罄商品，已售罄商品將自動從購物車中移除")])])],1),t._v(" "),r("center",[r("v-btn",{attrs:{color:"gray lighten-4"},on:{click:function(e){t.removeNullProduct()}}},[t._v("確定")]),t._v(" "),r("br"),t._v(" "),r("br")],1)],1)],1)],1)},staticRenderFns:[]};var dt=r("VU/8")(ut,vt,!1,function(t){r("blAU")},null,null).exports,pt={data:function(){return{pagination:{rowsPerPage:10},headers:[{text:"書名",align:"center",sortable:!1,value:"title"},{text:"封面",align:"center",sortable:!1,value:"picture"},{text:"優惠價",align:"center",sortable:!1,value:"price"},{text:"貨品狀況",align:"center",sortable:!1,value:"state"}],account:{},selectItems:[{type:0,text:"宅配+30",price:30}],sendData:{name:"",cellphone:"",address:"",ship_type:0},numOfPrice:0,numOfList:0,shoppingCart:[],shoppingCartView:[]}},methods:{buy:function(){var t=this,e=localStorage.getItem("token"),r=this.sendData;for(var n in r.cartlist=[],this.shoppingCart)r.cartlist.push(this.shoppingCart[n].id);M(e,r).then(function(e){alert("購買成功");localStorage.setItem("shoppingCart",st()([])),t.$router.push("/")}).catch(function(e){alert("有商品已售罄"),t.$router.push("/cartlist")})}},beforeMount:function(){var t=this;for(var e in this.numOfPrice=0,this.numOfList=0,this.shoppingCart=JSON.parse(localStorage.getItem("shoppingCart")),null!=this.shoppingCart&&0!=this.shoppingCart.length||(alert("購物車內沒有商品"),this.$router.push("./")),this.shoppingCart)T(this.shoppingCart[e].id).then(function(e){var r={};for(var n in t.shoppingCart)if(t.shoppingCart[n].id==e.data.product.id){r=t.shoppingCart[n],e.data.product.number>=1?(r.state=!0,t.numOfList++,t.numOfPrice+=parseInt(e.data.product.sell)):r.state=!1;break}t.shoppingCartView.push(r)}).catch(function(t){});var r=localStorage.getItem("token");g(r).then(function(e){t.account=e.data.account,t.sendData.name=e.data.account.name,t.sendData.cellphone=e.data.account.cellphone,t.sendData.address=e.data.account.address}).catch(function(e){alert("請先登入"),t.$router.push("/login")})}},ht={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("top"),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("v-layout",{attrs:{column:""}},[r("v-card",[r("v-data-table",{attrs:{headers:t.headers,items:t.shoppingCartView,"item-key":"id",pagination:t.pagination,rowsPerPageItems:[10]},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"headerCell",fn:function(e){return[r("v-tooltip",{attrs:{bottom:""}},[r("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n                    "+t._s(e.header.text)+"\n                    ")]),t._v(" "),r("span",[t._v("\n                    "+t._s(e.header.text)+"\n                    ")])])]}},{key:"items",fn:function(e){return[r("td",[r("a",{staticStyle:{"text-decoration":"none",color:"black"},attrs:{href:"#/product/"+e.item.id}},[t._v(t._s(e.item.title))])]),t._v(" "),r("td",[r("v-layout",{attrs:{row:""}},[r("v-divider",{attrs:{vertical:""}}),t._v("\n                          \n                        "),r("br"),r("v-img",{attrs:{contain:"",src:e.item.pic.url,width:"80"}}),r("br"),t._v("\n                          \n                        "),r("v-divider",{attrs:{vertical:""}})],1)],1),t._v(" "),r("td",[r("s",[t._v("售價:"+t._s(e.item.price))]),t._v(" "),r("b",[r("font",{attrs:{size:"3",color:"red"}},[t._v("優惠價: "+t._s(e.item.sell))])],1)]),t._v(" "),r("td",[r("v-layout",{attrs:{row:""}},[r("v-divider",{attrs:{vertical:""}}),t._v("\n                          \n                        "),r("v-layout",{attrs:{column:""}},[r("br"),t._v(" "),r("br"),t._v(" "),r("center",[1==e.item.state?r("p",[t._v("可供貨")]):r("p",[r("font",{attrs:{color:"red"}},[t._v("已售罄")])],1)]),t._v(" "),r("br"),t._v(" "),r("br")],1)],1)],1)]}}])})],1),t._v(" "),r("v-flex",[r("v-card",[r("font",{attrs:{size:"4"}},[r("center",{staticStyle:{"background-color":"#66BB6A"}},[r("br"),t._v(" "),r("p",[t._v("購買人資料")]),t._v(" "),r("v-divider")],1),t._v(" "),r("v-flex",{attrs:{"offset-xs2":"",xs8:"","align-center":""}},[r("br"),t._v(" "),r("br"),t._v(" "),r("v-text-field",{attrs:{label:"*姓名",outline:"",rules:[function(){return!!t.sendData.name||"請輸入姓名"}],required:""},model:{value:t.sendData.name,callback:function(e){t.$set(t.sendData,"name",e)},expression:"sendData.name"}}),t._v(" "),r("v-text-field",{attrs:{label:"*手機",outline:"",rules:[function(){return!!t.sendData.cellphone||"請輸入手機"}],required:""},model:{value:t.sendData.cellphone,callback:function(e){t.$set(t.sendData,"cellphone",e)},expression:"sendData.cellphone"}}),t._v(" "),r("v-text-field",{attrs:{label:"*地址",outline:"",rules:[function(){return!!t.sendData.address||"請輸入地址"}],required:""},model:{value:t.sendData.address,callback:function(e){t.$set(t.sendData,"address",e)},expression:"sendData.address"}}),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-select",{attrs:{label:"運送方式",outline:"",chips:"",items:t.selectItems,attach:"","item-value":"type","item-text":"text"},model:{value:t.sendData.ship_type,callback:function(e){t.$set(t.sendData,"ship_type",e)},expression:"sendData.ship_type"}})],1),t._v(" "),r("br")],1)],1),t._v(" "),r("v-divider"),t._v(" "),r("v-card",{attrs:{color:"green lighten-5"}},[r("br"),t._v(" "),r("v-layout",{attrs:{row:""}},[r("b",[r("font",{attrs:{size:"4"}},[t._v("   總消費金額:")])],1),t._v(" "),r("v-spacer"),t._v(" "),r("b",[r("font",{attrs:{size:"4"}},[t._v("共 "),r("font",{attrs:{color:"red"}},[t._v(t._s(t.numOfList))]),t._v(" 件商品，總計 NT$ "),r("font",{attrs:{color:"red"}},[t._v(t._s(t.numOfPrice+t.selectItems[t.sendData.ship_type].price)+" ")]),t._v("元")],1),t._v("   ")],1)],1),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-spacer")],1),t._v(" "),r("br"),t._v(" "),r("center",[r("v-btn",{attrs:{round:"",color:"pink account-2"},on:{click:function(e){t.buy()}}},[r("v-icon",{attrs:{color:"white"}},[t._v("shopping_cart")]),r("b",[r("font",{attrs:{color:"white"}},[t._v("確認下單")])],1)],1)],1),t._v(" "),r("br")],1)],1)],1)],1)],1)},staticRenderFns:[]};var ft=r("VU/8")(pt,ht,!1,function(t){r("UuDp")},null,null).exports;a.default.use(u.a);var _t=new u.a({routes:[{path:"/",name:"StartPage",component:L,props:!0},{path:"/home/:path",name:"Home",component:A,props:!0},{path:"/login",name:"Login",component:W},{path:"/member/:path",name:"Member",component:J,props:!0},{path:"/register",name:"Register",component:Z},{path:"/search/:type/:searchname",name:"Search",component:et,props:!0},{path:"/shopping/:type",name:"Shopping",component:ot,props:!0},{path:"/product/:id",name:"productView",component:lt,props:!0},{path:"/cartlist",name:"CartList",component:dt,props:!0},{path:"/checkout",name:"Checkout",component:ft,props:!0}]}),gt={props:{rerender:{type:Boolean,default:!1}},data:function(){return{loginFlag:!1,shoppingCart:[],shoppingCartPage:1,shoppingCartNumPerPage:3,shoppingCartNumOfPage:0,numOfPrice:0,shoppingCartView:[]}},watch:{rerender:function(t){if(t){var e=this,r=localStorage.getItem("token");for(var n in this.shoppingCart=JSON.parse(localStorage.getItem("shoppingCart")),null==this.shoppingCart&&(this.shoppingCart=[]),this.shoppingCartNumOfPage=Math.ceil(this.shoppingCart.length/this.shoppingCartNumPerPage),this.numOfPrice=0,this.shoppingCart)this.numOfPrice+=parseInt(this.shoppingCart[n].sell);this.render(),g(r).then(function(t){e.loginFlag=!0,e.account=t.data.account}).catch(function(t){e.loginFlag=!1})}}},methods:{login:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,this.$router.push("/login")},register:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,this.$router.push("/register")},logout:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,localStorage.removeItem("token"),this.$router.push("/"),window.location.reload()},pageUp:function(){this.shoppingCartPage--,this.render()},pageDown:function(){this.shoppingCartPage++,this.render()},render:function(){if(this.shoppingCart.length>this.shoppingCartNumPerPage){for(var t=0;this.shoppingCartNumPerPage*this.shoppingCartPage-t>this.shoppingCart.length;)t++;for(var e=0;e<this.shoppingCartNumPerPage;e++)this.shoppingCartView[e]=this.shoppingCart[this.shoppingCartNumPerPage*(this.shoppingCartPage-1)-t+e]}else this.shoppingCartView=this.shoppingCart},deleteShoppingCartItem:function(t){for(var e in this.shoppingCart)if(this.shoppingCart[e].id==t){this.numOfPrice-=parseInt(this.shoppingCart[e].sell),this.shoppingCart.splice(e,1),this.shoppingCartNumOfPage=Math.ceil(this.shoppingCart.length/this.shoppingCartNumPerPage),localStorage.setItem("shoppingCart",st()(this.shoppingCart)),this.render();break}}},beforeMount:function(){var t=this,e=localStorage.getItem("token");for(var r in this.shoppingCart=JSON.parse(localStorage.getItem("shoppingCart")),null==this.shoppingCart&&(this.shoppingCart=[]),this.shoppingCartNumOfPage=Math.ceil(this.shoppingCart.length/this.shoppingCartNumPerPage),this.shoppingCart)this.numOfPrice+=parseInt(this.shoppingCart[r].sell);this.render(),g(e).then(function(e){t.loginFlag=!0,t.account=e.data.account}).catch(function(e){t.loginFlag=!1})}},mt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-toolbar",{attrs:{fixed:"",flat:"",height:"120",color:"gray lighten-4"}},[r("v-spacer"),t._v(" "),r("v-toolbar-items",[r("v-layout",{attrs:{"align-center":""}},[r("a",{attrs:{href:"/#/"}},[r("v-img",{staticClass:"pointer",attrs:{contain:"",width:"120px",src:"http://210.61.46.101:8888/uploadedFile/i2books.png"}})],1)])],1),t._v("\n                \n        "),r("v-toolbar-items",[r("v-layout",{attrs:{"align-center":""}},[r("a",{attrs:{href:"/#/home/about"}},[r("v-img",{staticClass:"pointer",attrs:{contain:"",width:"120px",src:"http://210.61.46.101:8888/uploadedFile/關於我.png"}})],1)]),t._v("\n               \n             "),r("v-layout",{attrs:{"align-center":""}},[r("a",{attrs:{href:"/#/shopping/0"}},[r("v-img",{staticClass:"pointer",attrs:{contain:"",width:"120px",src:"http://210.61.46.101:8888/uploadedFile/買二手書.png"}})],1)]),t._v("\n               \n             "),r("v-layout",{attrs:{"align-center":""}},[r("a",{attrs:{href:"/#/home/sell"}},[r("v-img",{staticClass:"pointer",attrs:{contain:"",width:"120px",src:"http://210.61.46.101:8888/uploadedFile/賣二手書.png"}})],1)]),t._v("\n               \n            "),r("v-layout",{attrs:{"align-center":""}},[r("a",{attrs:{href:"/#/member/information"}},[r("v-img",{staticClass:"pointer",attrs:{contain:"",width:"120px",src:"http://210.61.46.101:8888/uploadedFile/會員專區.png"}})],1)])],1),t._v(" "),r("v-spacer"),t._v(" "),0==t.loginFlag?r("v-toolbar-items",[r("v-btn",{attrs:{flat:"",small:""},on:{click:function(e){t.login()}}},[t._v("登入")]),t._v(" "),r("v-btn",{attrs:{flat:"",small:""},on:{click:function(e){t.register()}}},[t._v("註冊")]),t._v(" "),r("v-menu",{attrs:{"open-on-hover":"","offset-y":"",attach:"","close-delay":"100",left:"","close-on-content-click":!1}},[r("v-btn",{attrs:{slot:"activator",flat:"",href:"#/cartlist"},slot:"activator"},[r("v-layout",{attrs:{column:""}},[r("v-icon",{staticClass:"pointer",attrs:{large:"",light:""}},[t._v("shopping_cart")]),t._v(" "),r("center",[t._v("購物車("+t._s(t.shoppingCart.length)+")")])],1)],1),t._v(" "),0!=t.shoppingCart.length?r("div",[r("v-list",[t.shoppingCartPage>1?r("v-layout",{attrs:{"justify-space-around":""}},[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{block:"",round:""},on:{click:function(e){t.pageUp()}}},[r("v-icon",[t._v("arrow_drop_up")])],1),t._v(" "),r("v-spacer")],1):t._e(),t._v(" "),r("br"),t._v(" "),r("v-divider"),t._v(" "),r("br"),t._v(" "),t._l(t.shoppingCartNumPerPage,function(e){return r("div",{key:e},[e-1<t.shoppingCartView.length?r("div",[r("br"),t._v(" "),r("v-card",{attrs:{flat:"",width:"300px"}},[r("v-layout",{attrs:{row:"","justify-center":""}},[t._v("\n                                  \n                                "),r("v-btn",{attrs:{icon:""},on:{click:function(r){t.deleteShoppingCartItem(t.shoppingCartView[e-1].id)}}},[r("v-icon",[t._v("cancel")])],1),t._v("\n                                  \n                                "),r("a",{attrs:{href:"/#/product/"+t.shoppingCartView[e-1].id}},[r("v-img",{staticClass:"pointer",attrs:{contain:"",width:"80px",src:t.shoppingCartView[e-1].pic.url}})],1),t._v(" "),r("v-spacer"),t._v(" "),r("v-layout",{attrs:{column:"","align-center":""}},[r("a",{staticStyle:{"text-decoration":"none",color:"black"},attrs:{href:"/#/product/"+t.shoppingCartView[e-1].id}},[r("p",[t._v(t._s(t.shoppingCartView[e-1].title))])]),t._v(" "),r("div",[t._v("\n                                        售價: NT$ \n                                        "),r("s",[t._v(t._s(t.shoppingCartView[e-1].price))]),t._v(" "),r("b",[r("font",{attrs:{color:"red",size:"3"}},[t._v(" "+t._s(t.shoppingCartView[e-1].sell))])],1)]),t._v(" "),r("br")]),t._v(" "),r("v-spacer")],1)],1),t._v(" "),r("br"),t._v(" "),r("v-divider"),t._v(" "),r("br")],1):t._e()])}),t._v(" "),t.shoppingCartPage<t.shoppingCartNumOfPage?r("v-layout",{attrs:{"justify-space-around":""}},[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{block:"",round:""},on:{click:function(e){t.pageDown()}}},[r("v-icon",[t._v("arrow_drop_down")])],1),t._v(" "),r("v-spacer")],1):t._e(),t._v(" "),r("br"),t._v(" "),r("center",[r("p",[t._v("共 "),r("b",[r("font",{attrs:{size:"3",color:"red"}},[t._v(t._s(t.shoppingCart.length))])],1),t._v(" 件商品, NT$ "),r("b",[r("font",{attrs:{size:"3",color:"red"}},[t._v(t._s(t.numOfPrice))])],1),t._v(" 元")]),t._v(" "),r("p")]),t._v(" "),r("v-layout",{attrs:{"justify-end":""}},[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{round:"",href:"#/cartlist"}},[r("v-layout",{attrs:{row:"","align-center":""}},[r("v-icon",[t._v("attach_money")]),t._v("\n                                前往結帳\n                            ")],1)],1),t._v("\n                            \n                    ")],1),t._v(" "),r("br")],2)],1):t._e()],1)],1):1==t.loginFlag?r("v-toolbar-items",[r("v-layout",{attrs:{"align-center":""}},[r("v-card-text",[r("font",{staticClass:"context-menu",attrs:{size:"3"}},[t._v("歡迎!   "),r("b",[t._v(t._s(t.account.name))])])],1)],1),t._v(" "),r("v-btn",{attrs:{flat:"",small:""},on:{click:t.logout}},[t._v("登出")]),t._v(" "),r("v-menu",{attrs:{"open-on-hover":"","offset-y":"",attach:"","close-delay":"100",left:"","close-on-content-click":!1}},[r("v-btn",{attrs:{slot:"activator",flat:"",href:"#/cartlist"},slot:"activator"},[r("v-layout",{attrs:{column:""}},[r("v-icon",{staticClass:"pointer",attrs:{large:"",light:""}},[t._v("shopping_cart")]),t._v(" "),r("center",[t._v("購物車("+t._s(t.shoppingCart.length)+")")])],1)],1),t._v(" "),0!=t.shoppingCart.length?r("div",[r("v-list",[t.shoppingCartPage>1?r("v-layout",{attrs:{"justify-space-around":""}},[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{block:"",round:""},on:{click:function(e){t.pageUp()}}},[r("v-icon",[t._v("arrow_drop_up")])],1),t._v(" "),r("v-spacer")],1):t._e(),t._v(" "),r("br"),t._v(" "),r("v-divider"),t._v(" "),r("br"),t._v(" "),t._l(t.shoppingCartNumPerPage,function(e){return r("div",{key:e},[e-1<t.shoppingCartView.length?r("div",[r("br"),t._v(" "),r("v-card",{attrs:{flat:"",width:"300px"}},[r("v-layout",{attrs:{row:"","justify-center":""}},[t._v("\n                                  \n                                "),r("v-btn",{attrs:{icon:""},on:{click:function(r){t.deleteShoppingCartItem(t.shoppingCartView[e-1].id)}}},[r("v-icon",[t._v("cancel")])],1),t._v("\n                                  \n                                "),r("a",{attrs:{href:"/#/product/"+t.shoppingCartView[e-1].id}},[r("v-img",{staticClass:"pointer",attrs:{contain:"",width:"80px",src:t.shoppingCartView[e-1].pic.url}})],1),t._v(" "),r("v-spacer"),t._v(" "),r("v-layout",{attrs:{column:"","align-center":""}},[r("a",{staticStyle:{"text-decoration":"none",color:"black"},attrs:{href:"/#/product/"+t.shoppingCartView[e-1].id}},[r("p",[t._v(t._s(t.shoppingCartView[e-1].title))])]),t._v(" "),r("div",[t._v("\n                                        售價: NT$ \n                                        "),r("s",[t._v(t._s(t.shoppingCartView[e-1].price))]),t._v(" "),r("b",[r("font",{attrs:{color:"red",size:"3"}},[t._v(" "+t._s(t.shoppingCartView[e-1].sell))])],1)]),t._v(" "),r("br")]),t._v(" "),r("v-spacer")],1)],1),t._v(" "),r("br"),t._v(" "),r("v-divider"),t._v(" "),r("br")],1):t._e()])}),t._v(" "),t.shoppingCartPage<t.shoppingCartNumOfPage?r("v-layout",{attrs:{"justify-space-around":""}},[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{block:"",round:""},on:{click:function(e){t.pageDown()}}},[r("v-icon",[t._v("arrow_drop_down")])],1),t._v(" "),r("v-spacer")],1):t._e(),t._v(" "),r("br"),t._v(" "),r("center",[r("p",[t._v("共 "),r("b",[r("font",{attrs:{size:"3",color:"red"}},[t._v(t._s(t.shoppingCart.length))])],1),t._v(" 件商品, NT$ "),r("b",[r("font",{attrs:{size:"3",color:"red"}},[t._v(t._s(t.numOfPrice))])],1),t._v(" 元")]),t._v(" "),r("p")]),t._v(" "),r("v-layout",{attrs:{"justify-end":""}},[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{round:"",href:"#/cartlist"}},[r("v-layout",{attrs:{row:"","align-center":""}},[r("v-icon",[t._v("attach_money")]),t._v("\n                                前往結帳\n                            ")],1)],1),t._v("\n                            \n                    ")],1),t._v(" "),r("br")],2)],1):t._e()],1)],1):t._e(),t._v(" "),r("v-spacer")],1)],1)},staticRenderFns:[]};var bt=r("VU/8")(gt,mt,!1,function(t){r("LSr8")},null,null).exports,xt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",["about"==this.path?e("v-card",{attrs:{flat:""}},[e("about")],1):this._e(),this._v(" "),"sell"==this.path?e("v-card",{attrs:{flat:""}},[e("sell")],1):this._e()],1)},staticRenderFns:[]};var wt=r("VU/8")({props:["path"]},xt,!1,function(t){r("w5Wb")},null,null).exports,yt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",[e("br"),this._v(" "),e("v-footer",{attrs:{color:"white",height:"200px"}},[e("v-layout",{attrs:{"align-center":"","justify-center":""}},[e("font",{staticClass:"context-menu",attrs:{size:"4"}},[e("p",[this._v("杏文勤閱國際有限公司 Copyright © 2019 i2books Inc. All rights reserved")])])],1)],1)],1)},staticRenderFns:[]};var kt=r("VU/8")({},yt,!1,function(t){r("e97v")},null,null).exports,Ct={name:"SIdentify",props:{identifyCode:{type:String,default:"1234"},fontSizeMin:{type:Number,default:25},fontSizeMax:{type:Number,default:35},backgroundColorMin:{type:Number,default:200},backgroundColorMax:{type:Number,default:220},dotColorMin:{type:Number,default:60},dotColorMax:{type:Number,default:120},contentWidth:{type:Number,default:116},contentHeight:{type:Number,default:55}},methods:{randNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},randColor:function(t,e){return"rgb("+this.randNum(t,e)+","+this.randNum(t,e)+","+this.randNum(t,e)+")"},drawPic:function(){var t=document.getElementById("s-canvas").getContext("2d");t.textBaseline="bottom",t.fillStyle=this.randColor(this.backgroundColorMin,this.backgroundColorMax),t.fillRect(0,0,this.contentWidth,this.contentHeight);for(var e=0;e<this.identifyCode.length;e++)this.drawText(t,this.identifyCode[e],e);this.drawLine(t),this.drawDot(t)},drawText:function(t,e,r){t.fillStyle=this.randColor(50,160),t.font=this.randNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";var n=(r+1)*(this.contentWidth/(this.identifyCode.length+1)),o=this.randNum(this.fontSizeMax,this.contentHeight-5),a=this.randNum(-30,30);t.translate(n,o),t.rotate(a*Math.PI/180),t.fillText(e,0,0),t.rotate(-a*Math.PI/180),t.translate(-n,-o)},drawLine:function(t){for(var e=0;e<4;e++)t.strokeStyle=this.randColor(100,200),t.beginPath(),t.moveTo(this.randNum(0,this.contentWidth),this.randNum(0,this.contentHeight)),t.lineTo(this.randNum(0,this.contentWidth),this.randNum(0,this.contentHeight)),t.stroke()},drawDot:function(t){for(var e=0;e<30;e++)t.fillStyle=this.randColor(0,255),t.beginPath(),t.arc(this.randNum(0,this.contentWidth),this.randNum(0,this.contentHeight),1,0,2*Math.PI),t.fill()}},watch:{identifyCode:function(){this.drawPic()}},mounted:function(){this.drawPic()}},Pt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"s-canvas"},[e("canvas",{attrs:{id:"s-canvas",width:this.contentWidth,height:this.contentHeight}})])},staticRenderFns:[]},St=r("VU/8")(Ct,Pt,!1,null,null,null).exports,Tt=r("vJRe"),It={data:function(){return{article:""}},beforeMount:function(){var t=this;C(1).then(function(e){t.article=e.data.article.content}).catch(function(t){})}},$t={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",[e("v-card",{attrs:{flat:""}},[e("center",[e("font",{attrs:{size:"4"}},[e("b",[this._v("關於我們")])])],1),this._v(" "),e("br"),this._v(" "),e("div",{staticStyle:{"word-break":"break-all"},domProps:{innerHTML:this._s(this.article)}})],1)],1)},staticRenderFns:[]};var Et=r("VU/8")(It,$t,!1,function(t){r("b89p")},null,null).exports,Mt={data:function(){return{article:""}},beforeMount:function(){var t=this;C(2).then(function(e){t.article=e.data.article.content}).catch(function(t){})}},Nt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",[e("v-card",{attrs:{flat:""}},[e("center",[e("font",{attrs:{size:"4"}},[e("b",[this._v("賣二手書")])])],1),this._v(" "),e("br"),this._v(" "),e("div",{staticStyle:{"word-break":"break-all"},domProps:{innerHTML:this._s(this.article)}})],1)],1)},staticRenderFns:[]};var zt=r("VU/8")(Mt,Nt,!1,function(t){r("7EN8")},null,null).exports,Vt={props:["type"],data:function(){return{types:[],treeData:[]}},methods:{getType:function(t){},changeRoute:function(t){location.href="#/shopping/"+t,window.location.reload()},treeGen:function(){this.treeData=this.getSubTree(0)},getSubTree:function(t){var e=[];for(var r in this.types)if(this.types[r].super_id==t){var n={};n.name=this.types[r].name,n.id=this.types[r].id,e.push(n)}if(0!=e.length){for(var r in e)e[r].children=this.getSubTree(e[r].id);return e}}},beforeMount:function(){var t=this;P().then(function(e){t.types=e.data.types,t.treeGen()})}},Ot={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("br"),t._v(" "),r("br"),t._v(" "),r("v-layout",{attrs:{"align-content-start":"",column:""}},[r("v-treeview",{attrs:{items:t.treeData},scopedSlots:t._u([{key:"label",fn:function(e){return[r("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"/#/shopping/"+e.item.id},on:{click:function(r){t.changeRoute(e.item.id)}}},[r("v-btn",{attrs:{block:"",flat:""}},[t._v(t._s(e.item.name))])],1)]}}])})],1)],1)},staticRenderFns:[]};var Dt=r("VU/8")(Vt,Ot,!1,function(t){r("tuAi")},null,null).exports,Ft={Top:bt,Middle:wt,Bottom:kt,Identify:St,BackToTop:Tt.a,About:Et,Sell:zt,ShoppingType:Dt};r("gJtD");a.default.config.productionTip=!1,a.default.use(i.a),o()(Ft).forEach(function(t){a.default.component(t,Ft[t])}),new a.default({el:"#app",router:_t,render:function(t){return t(l)}})},Phr4:function(t,e){},QbWG:function(t,e){},QjWp:function(t,e){},"Rz+o":function(t,e){},UuDp:function(t,e){},b89p:function(t,e){},blAU:function(t,e){},e97v:function(t,e){},gJtD:function(t,e){},siOa:function(t,e){},tuAi:function(t,e){},w5Wb:function(t,e){},xz0C:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.3808277b73618f11a43d.js.map